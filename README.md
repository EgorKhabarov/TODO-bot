<h1>Bot for organizing events by dates.</h1>
<i>Storing, adding, editing and deleting notes by date.
You can tag a note with an emoji.
Convenient search by emoji statuses and dates.
Birthdays and holidays are marked on the calendar (you need to set an emoji status).</i><br><br>
<i>–•—Ä–∞–Ω–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ –¥–∞—Ç–µ.
–ú–æ–∂–Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –∑–∞–º–µ—Ç–∫—É —ç–º–æ–¥–∑–∏.
–£–¥–æ–±–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —ç–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å–∞–º –∏ –¥–∞—Ç–∞–º.
–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å).</i>

---

–ü–æ –∫–æ–º–∞–Ω–¥–µ `/calendar` –≤–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä—å.
–í—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É –∏–ª–∏ –ø—Ä–æ–ª–∏—Å—Ç–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥ –∫–Ω–æ–ø–∫–∞–º–∏ `<` `>` –∏ `<<` `>>` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.<br>
–ö–Ω–æ–ø–∫–∞ `‚ü≥` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –µ—Å–ª–∏ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π, –∏–Ω–∞—á–µ –æ–Ω–∞ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –æ–¥–∏–Ω —ç—Ç–∞–ø –Ω–∏–∂–µ –ø–æ –º–µ–Ω—é –∏ –≤ –∏—Ç–æ–≥–µ –æ—Ç–∫—Ä–æ–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π.<br>
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Å–∞–º–æ–π –≤–µ—Ä—Ö–Ω–µ–π –∫–Ω–æ–ø–∫–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –º–µ—Å—è—Ü–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≥–æ–¥–µ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –º–µ—Å—è—Ü–µ–≤.

<img alt="calendar.png" src="images/calendar.png">

–í –∫–∞–ª–µ–Ω–¥–∞—Ä–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π.

| –ó–Ω–∞–∫ | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                                                                                                                                                                             |
|:----:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `#`  | –°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –Ω–æ–º–µ—Ä –¥–Ω—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ª—é–±—ã—Ö –º–µ—Å—è—Ü–∞—Ö)                                                                                                                                                                                 |
| `*`  | –í —ç—Ç–æ—Ç –¥–µ–Ω—å –µ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è                                                                                                                                                                                                             |
| `!`  | –í —ç—Ç–æ—Ç –¥–µ–Ω—å –∏–ª–∏ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å –¥—Ä—É–≥–æ–≥–æ –≥–æ–¥–∞ –µ—Å—Ç—å<br>—Å–æ–±—ã—Ç–∏–µ —Å —Å—Ç–∞—Ç—É—Å–æ–º –∏–ª–∏ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è `üéâ`<br>–∏–ª–∏ –ø—Ä–∞–∑–¥–Ω–∏–∫ `üéä`<br/> <details><summary>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</summary>–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ –∑–∞–±—ã—Ç—å, —á—Ç–æ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å —É –∫–æ–≥–æ —Ç–æ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è.</details> |


<img alt="calendar.png" src="images/calendar_elements.png">

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ —Å –¥–∞—Ç–æ–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è –¥–∞—Ç–∞.

| –ö–Ω–æ–ø–∫–∞  | –î–µ–π—Å—Ç–≤–∏–µ                      |
|:-------:|:------------------------------|
|   `‚ûï`   | –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ              |
|  `üìù`   | –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ       |
|  `üö©`   | –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–ª—è —Å–æ–±—ã—Ç–∏—è  |
|  `üóë`   | –£–¥–∞–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ               |
|  `üîô`   | –ù–∞–∑–∞–¥                         |
| `<` `>` | –ù–∞ 1 –¥–µ–Ω—å –≤–ø–µ—Ä—ë–¥ –∏–ª–∏ –Ω–∞–∑–∞–¥    |
|   `‚úñ`   | –£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ |


<img alt="calendar.png" src="images/date.png">

# [Limits](/func.py#L712&L716)

–í –±–æ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥—Ä—É–ø–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

| user_status | price | maximum characters/day | maximum events/day |
|:------------|:------|:-----------------------|:-------------------|
| default     | 0     | 4000                   | 20                 |
| premium     | ü§∑    | 8000                   | 40                 |
| admin       | -     | ‚àû                      | ‚àû                  |

# [–ü–æ–∏—Å–∫](/func.py#L639&L659)

–í –±–æ—Ç–µ –µ—Å—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Å–æ–±—ã—Ç–∏—è–º. –ò—Å–∫–∞—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–∞–º–∏ `#query` –∏–ª–∏ `/search query`.
–¢–∞–∫–æ–π –ø–æ–∏—Å–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è.<br>
–ó–∞–ø—Ä–æ—Å`#1 2` –∏—â–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Ü–∏—Ñ—Ä—ã 1 <b>–ò–õ–ò</b> 2 (`t1ext`, `tex2t`, `2te1xt`)<br>
–¢–∞–∫ –∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ–∏—Å–∫ <b>–ò</b>. –û–Ω –∏—â–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Å–æ–±—ã—Ç–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å–µ —É—Å–ª–æ–≤–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—Ç. –ò—Å–∫–∞—Ç—å —Ç–∞–∫–∏–º –ø–æ–∏—Å–∫–æ–º –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `#!query` –∏–ª–∏ `/search! query`.<br>
–ó–∞–ø—Ä–æ—Å `#!1 2` –±–æ—Ç –≤–µ—Ä–Ω—ë—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Å–æ–±—ã—Ç–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å 1 <b>–ò</b> 2 (`text12`, `te2xt1`).

–í –ø–æ–∏—Å–∫–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã

| –ß—Ç–æ –∏—Å–∫–∞—Ç—å     | —à–∞–±–ª–æ–Ω/—ã                                                               |
|:---------------|:-----------------------------------------------------------------------|
| –î–∞—Ç–∞           | `date=dd.mm.yyyy`<br>`date=dd.mm`<br>`date=mm.yyyy`<br>`date=dd..yyyy` |
| –ù–æ–º–µ—Ä –¥–Ω—è      | `day=00`                                                               |
| –ù–æ–º–µ—Ä –º–µ—Å—è—Ü–∞   | `mon=0`<br>`month=0`                                                   |
| –ì–æ–¥            | `year=0000`                                                            |
| –°—Ç–∞—Ç—É—Å —Å–æ–±—ã—Ç–∏—è | `status=‚¨úÔ∏è`                                                            |
| id —Å–æ–±—ã—Ç–∏—è     | `id=0`                                                                 |

–ù–∞–ø—Ä–∏–º–µ—Ä `#date=1.2023 status=üéß youtube.com` –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –º—É–∑—ã–∫–∏ –∑–∞ —è–Ω–≤–∞—Ä—å 2023 –≥–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ youtube.




<details>
<summary>Commands</summary>

# [Commands](/lang.py#L453)
| Command          | Description                 |
|:-----------------|:----------------------------|
| /start           | Start                       |
| /calendar        | Calendar                    |
| /today           | Today's message             |
| /weather {city}  | Weather                     |
| /forecast {city} | Weather forecast for 5 days |
| /week_event_list | Weekly events               |
| /dice            | Roll the dice (randomizer)  |      
| /save_to_csv     | Save my data in csv         |     
| /help            | Help                        |                          
| /settings        | Settings                    |
| /search {query}  | Search                      |
| #{query}         | Search                      |

</details>

<details>
<summary>DataBase</summary>

# [DataBase](/func.py#L89&L121)

* ### [root](/func.py#L97&L105)
| name     | data type | default value |
|:---------|:----------|:--------------|
| event_id | INT       | _NULL_        |
| user_id  | INT       | _NULL_        |
| date     | TEXT      | _NULL_        |
| text     | TEXT      | _NULL_        |
| isdel    | INT       | 0             |
| status   | TEXT      | ‚¨úÔ∏è            |

* ### [settings](/func.py#L111&L121)
| name              | data type | default value |
|:------------------|:----------|:--------------|
| user_id           | INT       | _NULL_        |
| lang              | TEXT      | ru            |
| sub_urls          | INT       | 1             |
| city              | TEXT      | –ú–æ—Å–∫–≤–∞        |
| timezone          | INT       | 3             |
| direction         | TEXT      | ‚¨áÔ∏è            |
| user_status       | INT       | 0             |
| user_max_event_id | INT       | 1             |

</details>

# #TODO
* [ ] –ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.
* [ ] –ì—Ä—É–ø–ø—ã –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–±—ã—Ç–∏–π
* [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.
* [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–∏—Å–∫–µ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –¥–∞—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
* [ ] –í –ø–æ–∏—Å–∫ –¥–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã<br>
 `#date=dd.mm.yyyy` or `#date=dd.mm` or `#date=mm.yyyy` or `#date=dd..yyyy`<br>
 `#day=00`<br>
 `#month=0`<br>
 `#year=0000`<br>
 `#status=‚¨úÔ∏è`<br>
 `#id=0`<br>
 –ù–∞–ø—Ä–∏–º–µ—Ä `#date=1.2023 status=üéß` –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –º—É–∑—ã–∫–∏ –∑–∞ —è–Ω–≤–∞—Ä—å 2023 –≥–æ–¥–∞.<br>
 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ sql LIKE (%, _ –∏.—Ç.–¥.).<br>
 –ü–æ–∏—Å–∫ <b><u>–ò</u></b> `#!query` —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –≤ –ø–æ–∏—Å–∫–µ –±–µ–∑ –≤–∞—Ä–∏–∞—Ü–∏–π.
* [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ api.
* [ ] –ö–æ–º–∞–Ω–¥–∞ `/account`. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π.<br>
 –ö–∞–∫ –≤ –≥–∏—Ç—Ö–∞–±–µ, –≥—Ä–∞—Ñ–∏–∫ –Ω–∞–ª–∏—á–∏—è —Å–æ–±—ã—Ç–∏–π —Ü–≤–µ—Ç–Ω—ã–º–∏ —Å–º–∞–π–ª–∞–º–∏ `‚¨úÔ∏è(0) üü©(1,3) üü®(4,6) üüß(7,9) üü•(>=10)`


* [ ] Explorer (–ü–æ–¥–æ–±–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã)<br>
 –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (<u>admin only</u>).<br>
 <b>–í–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ api –≥—É–≥–ª|—è–Ω–¥–µ–∫—Å –¥–∏—Å–∫–∞</b>
* [ ] –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—à—å —Å–æ–±—ã—Ç–∏–µ –ø—É—Å—Ç—å –µ—Å–ª–∏ —Ñ–æ—Ç–æ –∏–ª–∏ —Ñ–∞–π–ª –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é —Ç–æ –±–æ—Ç –∫ —Ç–µ–∫—Å—Ç—É –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–π–ª, –∞ —Ç–µ–∫—Å—Ç –±–µ—Ä—ë—Ç –∏–∑ `message.caption`.
* [ ] –ö–æ–≥–¥–∞ —É–¥–∞–ª—è–µ—à—å —Ñ–∞–π–ª, —Ç–æ –ø—É—Å—Ç—å –≤—Å–µ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –Ω–µ–º—É —É–¥–∞–ª—è—é—Ç—Å—è.

* [ ] –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.


# #Already done
* [X] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–≥–æ–¥—É –Ω–∞ 5 –¥–Ω–µ–π `/forecast {city}`
* [X] SQL ORM —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏.
* [X] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —à–∞–±–ª–æ–Ω—É `"{template}"`.
* [X] –ò–∑–º–µ–Ω–µ–Ω–∏–µ user_status –¥–ª—è –∞–¥–º–∏–Ω–æ–≤, –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å -1 —ç—Ç–æ –≤ –±–∞–Ω–µ (–∏–≥–Ω–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π).<br>
 –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç user_status


# #Removed from TODO
* <s>_–£–±—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –æ–±—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π_</s>
* <s>–í—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∑–∞ –ø—Ä–æ—à–ª—ã–µ –≥–æ–¥–∞</s>
* <s>–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫</s>
* <s>–ü—Ä–∞–∑–¥–Ω–∏–∫–∏ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</s>

---

```
git clone https://github.com/EgorKhabarov/TODO-telegram-bot.git
```
